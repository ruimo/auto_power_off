# 制御プログラム

昔、[CH32V003でLチカ](https://ruimo.github.io/ch32v003try/)で紹介した[ch32v003fun](https://github.com/cnlohr/ch32v003fun/)を使用。音検出に使用した入力レベル変化割込が特殊なのと、押しボタンがあるのでチャタリング対策が入っているくらいで、あとは普通のポート入出力をしているだけ。

LEDは2桁あるのでダイナミック駆動(1桁ごとに時分割で点灯)にしている。このため電流制限抵抗は330Ωと少し小さめの値にした。RISC-Vはメモリが大きいので実行効率とかメモリ効率とかあまり意識していないが、全く問題なく動作している。

コードは[こちら](https://github.com/ruimo/auto_power_off)。
